<div class="p-4">
  <h1 class="text-2xl font-bold text-center mb-6">Admin CarModels</h1>
  <div class="flex justify-between">
    <button
      mat-button
      color="accent"
      [routerLink]="['/admin/carmodels/create']"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-sm m-4"
    >
      Create
    </button>
    <mat-paginator
      class="bg-white m-2"
      [pageSizeOptions]="pageSizeOptions"
      [length]="totalItems"
      [pageSize]="shopParams.pageSize"
      (page)="handlePageEvent($event)"
      showFirstLastButtons
    >
    </mat-paginator>
  </div>

  <div class="overflow-x-auto">
    <table
      mat-table
      [dataSource]="carModels"
      class="mat-elevation-z8 min-w-full bg-white rounded-lg"
    >
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Image
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          <img
            *ngIf="carModel.imagePath; else defaultImage"
            [src]="getCarModelImage(carModel.imagePath)"
            alt="Car Model Image"
            class="w-16 h-16 object-cover rounded-sm"
          />
          <ng-template #defaultImage>
            <img
              [src]="getCarModelImage('')"
              alt="Default Car Model Image"
              class="w-16 h-16 object-cover rounded-sm"
            />
          </ng-template>
        </td>
      </ng-container>

      <ng-container matColumnDef="brand">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Brand
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          {{ carModel.brand }}
        </td>
      </ng-container>

      <ng-container matColumnDef="model">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Model
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          {{ carModel.model }}
        </td>
      </ng-container>

      <ng-container matColumnDef="startYear">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Start Year
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          {{ carModel.startYear }}
        </td>
      </ng-container>

      <ng-container matColumnDef="bodyType">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Body Type
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          {{ carModel.bodyType }}
        </td>
      </ng-container>

      <ng-container matColumnDef="volumeLiters">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Volume Liters
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          {{ carModel.volumeLiters }}
        </td>
      </ng-container>

      <ng-container matColumnDef="fuelType">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Fuel Type
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          {{ carModel.fuelType }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="py-2 px-4 text-left">
          Actions
        </th>
        <td mat-cell *matCellDef="let carModel" class="py-2 px-4">
          <button
            mat-button
            [routerLink]="['/admin/carmodels/edit', carModel.id]"
            class="py-2 px-4"
          >
            Edit
          </button>
          <button
            mat-button
            (click)="deleteCarModel(carModel.id)"
            class="py-2 px-4"
          >
            Delete
          </button>
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns"
        class="bg-gray-100"
      ></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        class="border-b"
      ></tr>
    </table>
  </div>
</div>
