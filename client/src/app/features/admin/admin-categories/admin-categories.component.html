<div class="p-4">
  <h1 class="text-2xl font-bold text-center mb-6">Admin Categories</h1>

  <div class="overflow-x-auto">
    <table class="min-w-full bg-white shadow-md rounded-lg">
      <thead>
        <tr class="bg-gray-100">
          <th class="py-2 px-4 text-left">Image</th>
          <th class="py-2 px-4 text-left">Category Name</th>
          <th class="py-2 px-4 text-left">Is Archived</th>
          <th class="py-2 px-4 text-left">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let category of categories" class="border-b">
          <td class="py-2 px-4">
            <img
              *ngIf="category.imagePath; else defaultImage"
              [src]="getCarModelImage(category.imagePath)"
              alt="Car Model Image"
              class="w-16 h-16 object-cover rounded"
            />
            <ng-template #defaultImage>
              <img
                [src]="getCarModelImage('')"
                alt="Default Car Model Image"
                class="w-16 h-16 object-cover rounded"
              />
            </ng-template>
          </td>
          <td class="py-2 px-4">{{ category.name }}</td>
          <td class="py-2 px-4">{{ category.isArchived ? "Yes" : "No" }}</td>
          <td class="border p-2 text-center">
            <button
              mat-button
              color="primary"
              [routerLink]="['/admin/categories/edit', category.id]"
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
            >
              Edit
            </button>
            <button
              mat-button
              color="warn"
              (click)="deleteCategory(category.id)"
              class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="flex justify-between">
      <button
        mat-button
        color="accent"
        [routerLink]="['/admin/categories/create']"
        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded m-4"
      >
        Create
      </button>

      <mat-paginator
        class="bg-white m-2"
        [pageSizeOptions]="pageSizeOptions"
        [length]="totalItems"
        [pageSize]="shopParams.pageSize"
        (page)="handlePageEvent($event)"
        showFirstLastButtons
      >
      </mat-paginator>
    </div>
  </div>
</div>
