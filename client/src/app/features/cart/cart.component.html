<section class="px-2 sm:px-4 pt-8">
  <div
    *ngIf="cartService.cart()?.cartItems?.length! > 0; else emptyCart"
    class="flex flex-col w-full gap-3 sm:gap-6"
  >
    <div class="w-full">
      @for (item of cartService.cart()?.cartItems; track item.productId) {
      <app-cart-item [item]="item"></app-cart-item>
      }
    </div>

    <div class="w-full flex justify-end">
      <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4">
        <div class="space-y-2 sm:space-y-4">
          <dl
            class="flex items-center justify-between gap-2 sm:gap-4 border-t border-gray-200 pt-2"
          >
            <dt
              class="font-medium text-xl sm:text-2xl md:text-3xl text-gray-500"
            >
              Total:
            </dt>
            <dd
              class="font-medium text-xl sm:text-2xl md:text-3xl text-gray-900 total-price"
            >
              {{
                cartService.totals()?.total | currency : "UAH" : "symbol-narrow"
              }}
            </dd>
          </dl>
        </div>
      </div>
    </div>
  </div>

  <section
    *ngIf="cartService.cart()?.cartItems?.length! > 0"
    class="mt-4 sm:mt-8"
  >
    <app-checkout-form></app-checkout-form>
  </section>

  <ng-template #emptyCart>
    <app-empty-cart-state></app-empty-cart-state
  ></ng-template>
</section>
